const e={name:"windy-plugin-convective-tracker",version:"1.0.4",icon:"‚ö°",title:"Convective Formation Tracker",description:"Tracker para monitorar e prever deslocamento de forma√ß√µes convectivas",author:"Andrew Lemos",desktopUI:"rhpane",mobileUI:"fullscreen",desktopWidth:450,addToContextmenu:!0,routerPath:"/convective-tracker/:lat?/:lon?",listenToSingleclick:!0,built:1765232615472,builtReadable:"2025-12-08T22:23:35.472Z",screenshot:"screenshot.jpg"},{singleclick:o}=W.singleclick,{map:t,markers:n}=W.map;function r(){}function i(e){return e()}function l(){return Object.create(null)}function a(e){e.forEach(i)}function s(e){return"function"==typeof e}function c(e,o){return e!=e?o==o:e!==o||e&&"object"==typeof e||"function"==typeof e}function d(e,o){e.appendChild(o)}function u(e,o,t){const n=function(e){if(!e)return document;const o=e.getRootNode?e.getRootNode():e.ownerDocument;if(o&&o.host)return o;return e.ownerDocument}(e);if(!n.getElementById(o)){const e=g("style");e.id=o,e.textContent=t,function(e,o){d(e.head||e,o),o.sheet}(n,e)}}function x(e,o,t){e.insertBefore(o,t||null)}function p(e){e.parentNode&&e.parentNode.removeChild(e)}function g(e){return document.createElement(e)}function m(e){return document.createTextNode(e)}function v(){return m(" ")}function f(e,o,t,n){return e.addEventListener(o,t,n),()=>e.removeEventListener(o,t,n)}function h(e,o,t){null==t?e.removeAttribute(o):e.getAttribute(o)!==t&&e.setAttribute(o,t)}function w(e){return""===e?null:+e}function b(e,o){o=""+o,e.data!==o&&(e.data=o)}function $(e,o){e.value=null==o?"":o}let F;function M(e){F=e}function y(){if(!F)throw new Error("Function called outside component initialization");return F}const k=[],A=[];let T=[];const I=[],P=Promise.resolve();let C=!1;function E(e){T.push(e)}const D=new Set;let V=0;function U(){if(0!==V)return;const e=F;do{try{for(;V<k.length;){const e=k[V];V++,M(e),O(e.$$)}}catch(e){throw k.length=0,V=0,e}for(M(null),k.length=0,V=0;A.length;)A.pop()();for(let e=0;e<T.length;e+=1){const o=T[e];D.has(o)||(D.add(o),o())}T.length=0}while(k.length);for(;I.length;)I.pop()();C=!1,D.clear(),M(e)}function O(e){if(null!==e.fragment){e.update(),a(e.before_update);const o=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,o),e.after_update.forEach(E)}}const R=new Set;function N(e){return void 0!==e?.length?e:Array.from(e)}function S(e,o){const t=e.$$;null!==t.fragment&&(!function(e){const o=[],t=[];T.forEach(n=>-1===e.indexOf(n)?o.push(n):t.push(n)),t.forEach(e=>e()),T=o}(t.after_update),a(t.on_destroy),t.fragment&&t.fragment.d(o),t.on_destroy=t.fragment=null,t.ctx=[])}function j(e,o){-1===e.$$.dirty[0]&&(k.push(e),C||(C=!0,P.then(U)),e.$$.dirty.fill(0)),e.$$.dirty[o/31|0]|=1<<o%31}function _(e,o,t,n,c,d,u=null,x=[-1]){const g=F;M(e);const m=e.$$={fragment:null,ctx:[],props:d,update:r,not_equal:c,bound:l(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(g?g.$$.context:[])),callbacks:l(),dirty:x,skip_bound:!1,root:o.target||g.$$.root};u&&u(m.root);let v=!1;if(m.ctx=t?t(e,o.props||{},(o,t,...n)=>{const r=n.length?n[0]:t;return m.ctx&&c(m.ctx[o],m.ctx[o]=r)&&(!m.skip_bound&&m.bound[o]&&m.bound[o](r),v&&j(e,o)),t}):[],m.update(),v=!0,a(m.before_update),m.fragment=!!n&&n(m.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);m.fragment&&m.fragment.l(e),e.forEach(p)}else m.fragment&&m.fragment.c();o.intro&&((f=e.$$.fragment)&&f.i&&(R.delete(f),f.i(h))),function(e,o,t){const{fragment:n,after_update:r}=e.$$;n&&n.m(o,t),E(()=>{const o=e.$$.on_mount.map(i).filter(s);e.$$.on_destroy?e.$$.on_destroy.push(...o):a(o),e.$$.on_mount=[]}),r.forEach(E)}(e,o.target,o.anchor),U()}var f,h;M(g)}class z{$$=void 0;$$set=void 0;$destroy(){S(this,1),this.$destroy=r}$on(e,o){if(!s(o))return r;const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(o),()=>{const e=t.indexOf(o);-1!==e&&t.splice(e,1)}}$set(e){var o;this.$$set&&(o=e,0!==Object.keys(o).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");const H={name:"windy-plugin-convective-tracker"};function q(e){u(e,"svelte-1ownxr7",'.plugin-logo-container.svelte-1ownxr7.svelte-1ownxr7{text-align:center;margin-bottom:20px;padding:15px;background:linear-gradient(135deg, rgba(0, 123, 255, 0.1), rgba(108, 117, 125, 0.1));border-radius:8px;border:1px solid rgba(255, 255, 255, 0.1)}.logo-title.svelte-1ownxr7.svelte-1ownxr7{color:#fff;font-size:18px;font-weight:bold;text-shadow:0 0 10px rgba(0, 123, 255, 0.7)}.plugin-footer.svelte-1ownxr7.svelte-1ownxr7{text-align:center;margin-top:20px;padding:15px;color:#aaa;font-size:12px;border-top:1px solid rgba(255, 255, 255, 0.1);background:rgba(0, 0, 0, 0.1);border-radius:0 0 8px 8px}.plugin__content.svelte-1ownxr7.svelte-1ownxr7{display:flex;flex-direction:column;min-height:calc(100vh - 60px)}.tracker-controls.svelte-1ownxr7.svelte-1ownxr7{flex:1}.tracker-controls.svelte-1ownxr7.svelte-1ownxr7{padding:15px}.control-section.svelte-1ownxr7.svelte-1ownxr7{margin-bottom:20px;padding:15px;background:rgba(255, 255, 255, 0.05);border-radius:8px}.control-section.svelte-1ownxr7 h3.svelte-1ownxr7{margin-top:0;color:#fff;font-size:16px;border-bottom:1px solid rgba(255, 255, 255, 0.1);padding-bottom:8px}.button-group.svelte-1ownxr7.svelte-1ownxr7{display:flex;gap:10px;margin-bottom:15px;flex-wrap:wrap}.btn.svelte-1ownxr7.svelte-1ownxr7{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;font-weight:bold;transition:all 0.3s}.btn-primary.svelte-1ownxr7.svelte-1ownxr7{background-color:#007bff;color:white}.btn-primary.svelte-1ownxr7.svelte-1ownxr7:hover:not(:disabled){background-color:#0056b3}.btn-secondary.svelte-1ownxr7.svelte-1ownxr7{background-color:#6c757d;color:white}.btn-secondary.svelte-1ownxr7.svelte-1ownxr7:hover:not(:disabled){background-color:#545b62}.btn-warning.svelte-1ownxr7.svelte-1ownxr7{background-color:#ffc107;color:#212529}.btn-warning.svelte-1ownxr7.svelte-1ownxr7:hover:not(:disabled){background-color:#e0a800}.btn.svelte-1ownxr7.svelte-1ownxr7:disabled{opacity:0.5;cursor:not-allowed}.time-control-section.svelte-1ownxr7.svelte-1ownxr7{margin-top:10px}.manual-time-input.svelte-1ownxr7.svelte-1ownxr7{background:rgba(0, 123, 255, 0.1);padding:15px;border-radius:6px;margin-top:10px}.time-input-row.svelte-1ownxr7.svelte-1ownxr7{display:flex;gap:10px;align-items:flex-end;margin-bottom:10px}.input-group.svelte-1ownxr7.svelte-1ownxr7{flex:1}.input-group.svelte-1ownxr7 label.svelte-1ownxr7{display:block;color:#ddd;margin-bottom:5px;font-size:12px}.input-group.svelte-1ownxr7 input.svelte-1ownxr7{width:100%;padding:8px;border-radius:4px;background:rgba(255, 255, 255, 0.1);border:1px solid rgba(255, 255, 255, 0.2);color:#fff;text-align:center}.time-display-info.svelte-1ownxr7.svelte-1ownxr7{font-size:12px;color:#aaa;text-align:center;margin-top:10px}.info-display.svelte-1ownxr7.svelte-1ownxr7{background:rgba(0, 0, 0, 0.2);padding:15px;border-radius:6px;margin-top:15px}.status-indicator.svelte-1ownxr7.svelte-1ownxr7{padding:2px 8px;border-radius:12px;font-size:12px;font-weight:bold}.status-indicator.active.svelte-1ownxr7.svelte-1ownxr7{background-color:#28a745;color:white}.status-indicator.inactive.svelte-1ownxr7.svelte-1ownxr7{background-color:#dc3545;color:white}.calculation-result.svelte-1ownxr7.svelte-1ownxr7{background:rgba(0, 123, 255, 0.15);padding:12px;border-radius:6px;margin-top:10px;border-left:4px solid #007bff}.unit-note.svelte-1ownxr7.svelte-1ownxr7{font-size:11px;color:#aaa;margin-left:5px}.insignificant.svelte-1ownxr7.svelte-1ownxr7{color:#6c757d;font-style:italic}.significant.svelte-1ownxr7.svelte-1ownxr7{color:#28a745;font-weight:bold}.calculation-method.svelte-1ownxr7.svelte-1ownxr7{font-size:12px;color:#17a2b8;margin-top:5px;padding-top:5px;border-top:1px dashed rgba(255, 255, 255, 0.1)}.projection-controls.svelte-1ownxr7.svelte-1ownxr7{margin-bottom:15px}.time-input.svelte-1ownxr7.svelte-1ownxr7{margin-bottom:15px}.time-input.svelte-1ownxr7 label.svelte-1ownxr7{display:block;color:#fff;font-weight:bold;margin-bottom:8px}.time-slider-container.svelte-1ownxr7.svelte-1ownxr7{position:relative;margin-bottom:5px}.time-slider-container.svelte-1ownxr7 input[type="range"].svelte-1ownxr7{width:100%;height:6px;border-radius:3px;background:rgba(255, 255, 255, 0.1);outline:none}.slider-ticks.svelte-1ownxr7.svelte-1ownxr7{display:flex;justify-content:space-between;margin-top:5px;font-size:11px;color:#aaa}.time-display.svelte-1ownxr7.svelte-1ownxr7{display:flex;justify-content:space-between;align-items:center;margin-top:5px}.projection-options.svelte-1ownxr7.svelte-1ownxr7{margin:15px 0}.checkbox-label.svelte-1ownxr7.svelte-1ownxr7{display:flex;align-items:center;color:#ddd;font-size:14px;margin-bottom:8px;cursor:pointer}.checkbox-label.svelte-1ownxr7 input.svelte-1ownxr7{margin-right:8px}.projection-result.svelte-1ownxr7.svelte-1ownxr7{background:rgba(40, 167, 69, 0.15);padding:12px;border-radius:6px;margin-top:15px;border-left:4px solid #28a745}.projection-result.accelerated.svelte-1ownxr7.svelte-1ownxr7{background:rgba(255, 0, 255, 0.15);border-left:4px solid #ff00ff;animation:svelte-1ownxr7-pulse 2s infinite}.projection-result.uniform.svelte-1ownxr7.svelte-1ownxr7{background:rgba(40, 167, 69, 0.15);border-left:4px solid #28a745}@keyframes svelte-1ownxr7-pulse{0%{box-shadow:0 0 0 0 rgba(255, 0, 255, 0.4)}70%{box-shadow:0 0 0 10px rgba(255, 0, 255, 0)}100%{box-shadow:0 0 0 0 rgba(255, 0, 255, 0)}}.points-list.svelte-1ownxr7.svelte-1ownxr7{max-height:300px;overflow-y:auto;background:rgba(0, 0, 0, 0.2);border-radius:4px;padding:5px}.point-item.svelte-1ownxr7.svelte-1ownxr7{background:rgba(255, 255, 255, 0.05);padding:10px;margin-bottom:8px;border-radius:4px;border-left:3px solid #007bff}.point-header.svelte-1ownxr7.svelte-1ownxr7{display:flex;justify-content:space-between;margin-bottom:5px}.point-number.svelte-1ownxr7.svelte-1ownxr7{font-weight:bold;color:#fff}.point-time.svelte-1ownxr7.svelte-1ownxr7{font-size:11px;color:#aaa;font-family:monospace}.point-coords.svelte-1ownxr7.svelte-1ownxr7{display:flex;justify-content:space-between;font-size:12px;color:#ddd;margin-bottom:5px}.point-time-info.svelte-1ownxr7.svelte-1ownxr7{font-size:11px;color:#888;text-align:center;margin:5px 0}.point-metrics.svelte-1ownxr7.svelte-1ownxr7{display:flex;justify-content:space-between;font-size:11px;color:#17a2b8;padding-top:5px;border-top:1px dashed rgba(255, 255, 255, 0.1)}.no-points.svelte-1ownxr7.svelte-1ownxr7{text-align:center;color:#6c757d;font-style:italic;padding:20px}')}function J(e,o,t){const n=e.slice();return n[31]=o[t],n[33]=t,n}function G(e){let o,t,n,r,i,l,a,s,c,u,f,w,$,F,M,y,k,A,T,I,P,C,E,D,V,U,L,O,R,N,S,j,_,z,H,q=e[2].currentVelocity.toFixed(1)+"",J=(3.6*e[2].currentVelocity).toFixed(1)+"",G=e[2].currentDirection.toFixed(0)+"",W=e[2].totalDistance.toFixed(1)+"",Y=(e[2].totalTime/60).toFixed(1)+"",K=e[2].useUniformMotion?"Movimento Uniforme":"Movimento Uniformemente Variado";function Q(e,o){return e[2].hasSignificantAcceleration?Z:B}let X=Q(e),ee=X(e);return{c(){o=g("div"),t=g("h4"),t.textContent="Resultados dos C√°lculos:",n=v(),r=g("p"),i=g("strong"),i.textContent="Velocidade atual:",l=v(),a=m(q),s=m(" m/s \r\n                        "),c=g("span"),u=m("("),f=m(J),w=m(" km/h)"),$=v(),F=g("p"),M=g("strong"),M.textContent="Dire√ß√£o atual:",y=v(),k=m(G),A=m("¬∞"),T=v(),ee.c(),I=v(),P=g("p"),C=g("strong"),C.textContent="Dist√¢ncia total:",E=v(),D=m(W),V=m(" km"),U=v(),L=g("p"),O=g("strong"),O.textContent="Tempo total:",R=v(),N=m(Y),S=m(" min"),j=v(),_=g("p"),z=m("M√©todo: "),H=m(K),h(c,"class","unit-note svelte-1ownxr7"),h(_,"class","calculation-method svelte-1ownxr7"),h(o,"class","calculation-result svelte-1ownxr7")},m(e,p){x(e,o,p),d(o,t),d(o,n),d(o,r),d(r,i),d(r,l),d(r,a),d(r,s),d(r,c),d(c,u),d(c,f),d(c,w),d(o,$),d(o,F),d(F,M),d(F,y),d(F,k),d(F,A),d(o,T),ee.m(o,null),d(o,I),d(o,P),d(P,C),d(P,E),d(P,D),d(P,V),d(o,U),d(o,L),d(L,O),d(L,R),d(L,N),d(L,S),d(o,j),d(o,_),d(_,z),d(_,H)},p(e,t){4&t[0]&&q!==(q=e[2].currentVelocity.toFixed(1)+"")&&b(a,q),4&t[0]&&J!==(J=(3.6*e[2].currentVelocity).toFixed(1)+"")&&b(f,J),4&t[0]&&G!==(G=e[2].currentDirection.toFixed(0)+"")&&b(k,G),X===(X=Q(e))&&ee?ee.p(e,t):(ee.d(1),ee=X(e),ee&&(ee.c(),ee.m(o,I))),4&t[0]&&W!==(W=e[2].totalDistance.toFixed(1)+"")&&b(D,W),4&t[0]&&Y!==(Y=(e[2].totalTime/60).toFixed(1)+"")&&b(N,Y),4&t[0]&&K!==(K=e[2].useUniformMotion?"Movimento Uniforme":"Movimento Uniformemente Variado")&&b(H,K)},d(e){e&&p(o),ee.d()}}}function B(e){let o,t,n,r,i,l,a,s=e[2].acceleration.toFixed(4)+"";return{c(){o=g("p"),t=g("strong"),t.textContent="Acelera√ß√£o:",n=v(),r=m(s),i=m(" m/s¬≤"),l=v(),a=g("p"),a.innerHTML='<strong>Status:</strong> <span class="insignificant svelte-1ownxr7">insignificante</span>'},m(e,s){x(e,o,s),d(o,t),d(o,n),d(o,r),d(o,i),x(e,l,s),x(e,a,s)},p(e,o){4&o[0]&&s!==(s=e[2].acceleration.toFixed(4)+"")&&b(r,s)},d(e){e&&(p(o),p(l),p(a))}}}function Z(e){let o,t,n,r,i,l,a,s,c,u,f,w=e[2].acceleration.toFixed(4)+"",$=(12960*e[2].acceleration).toFixed(1)+"";return{c(){o=g("p"),t=g("strong"),t.textContent="Acelera√ß√£o:",n=v(),r=m(w),i=m(" m/s¬≤\r\n                            "),l=g("span"),a=m("("),s=m($),c=m(" km/h por hora)"),u=v(),f=g("p"),f.innerHTML='<strong>Status:</strong> <span class="significant svelte-1ownxr7">SIGNIFICANTE</span>',h(l,"class","unit-note svelte-1ownxr7")},m(e,p){x(e,o,p),d(o,t),d(o,n),d(o,r),d(o,i),d(o,l),d(l,a),d(l,s),d(l,c),x(e,u,p),x(e,f,p)},p(e,o){4&o[0]&&w!==(w=e[2].acceleration.toFixed(4)+"")&&b(r,w),4&o[0]&&$!==($=(12960*e[2].acceleration).toFixed(1)+"")&&b(s,$)},d(e){e&&(p(o),p(u),p(f))}}}function Y(e){let o,t,n,r,i,l,a,s,c,u,f,w,$,F,M,y,k,A,T,I,P,C,E,D,V,U,L,O,R,N,S,j,_,z,H=e[4].lat.toFixed(4)+"",q=e[4].lon.toFixed(4)+"",J=e[4].distance.toFixed(1)+"",G=e[4].useAcceleration?"Movimento Uniformemente Variado (com acelera√ß√£o)":"Movimento Uniforme (sem acelera√ß√£o)",B=e[4].estimatedArrival&&K(e),W=e[4].finalVelocity&&Q(e);return{c(){o=g("div"),t=g("h4"),t.textContent="Posi√ß√£o Projetada:",n=v(),r=g("p"),i=g("strong"),i.textContent="Latitude:",l=v(),a=m(H),s=m("¬∞"),c=v(),u=g("p"),f=g("strong"),f.textContent="Longitude:",w=v(),$=m(q),F=m("¬∞"),M=v(),y=g("p"),k=g("strong"),k.textContent="Dist√¢ncia:",A=v(),T=m(J),I=m(" km"),P=v(),C=g("p"),E=g("strong"),E.textContent="Intervalo:",D=v(),V=m(e[3]),U=m(" minutos"),L=v(),B&&B.c(),O=v(),W&&W.c(),R=v(),N=g("p"),S=g("strong"),S.textContent="M√©todo:",j=v(),_=m(G),h(o,"class",z="projection-result "+(e[4].useAcceleration?"accelerated":"uniform")+" svelte-1ownxr7")},m(e,p){x(e,o,p),d(o,t),d(o,n),d(o,r),d(r,i),d(r,l),d(r,a),d(r,s),d(o,c),d(o,u),d(u,f),d(u,w),d(u,$),d(u,F),d(o,M),d(o,y),d(y,k),d(y,A),d(y,T),d(y,I),d(o,P),d(o,C),d(C,E),d(C,D),d(C,V),d(C,U),d(o,L),B&&B.m(o,null),d(o,O),W&&W.m(o,null),d(o,R),d(o,N),d(N,S),d(N,j),d(N,_)},p(e,t){16&t[0]&&H!==(H=e[4].lat.toFixed(4)+"")&&b(a,H),16&t[0]&&q!==(q=e[4].lon.toFixed(4)+"")&&b($,q),16&t[0]&&J!==(J=e[4].distance.toFixed(1)+"")&&b(T,J),8&t[0]&&b(V,e[3]),e[4].estimatedArrival?B?B.p(e,t):(B=K(e),B.c(),B.m(o,O)):B&&(B.d(1),B=null),e[4].finalVelocity?W?W.p(e,t):(W=Q(e),W.c(),W.m(o,R)):W&&(W.d(1),W=null),16&t[0]&&G!==(G=e[4].useAcceleration?"Movimento Uniformemente Variado (com acelera√ß√£o)":"Movimento Uniforme (sem acelera√ß√£o)")&&b(_,G),16&t[0]&&z!==(z="projection-result "+(e[4].useAcceleration?"accelerated":"uniform")+" svelte-1ownxr7")&&h(o,"class",z)},d(e){e&&p(o),B&&B.d(),W&&W.d()}}}function K(e){let o,t,n,r,i=e[4].estimatedArrival+"";return{c(){o=g("p"),t=g("strong"),t.textContent="Chegada estimada:",n=v(),r=m(i)},m(e,i){x(e,o,i),d(o,t),d(o,n),d(o,r)},p(e,o){16&o[0]&&i!==(i=e[4].estimatedArrival+"")&&b(r,i)},d(e){e&&p(o)}}}function Q(e){let o,t,n,r,i,l,a,s,c,u=e[4].finalVelocity.toFixed(1)+"",f=(3.6*e[4].finalVelocity).toFixed(1)+"";return{c(){o=g("p"),t=g("strong"),t.textContent="Velocidade final estimada:",n=v(),r=m(u),i=m(" m/s \r\n                        "),l=g("span"),a=m("("),s=m(f),c=m(" km/h)"),h(l,"class","unit-note svelte-1ownxr7")},m(e,u){x(e,o,u),d(o,t),d(o,n),d(o,r),d(o,i),d(o,l),d(l,a),d(l,s),d(l,c)},p(e,o){16&o[0]&&u!==(u=e[4].finalVelocity.toFixed(1)+"")&&b(r,u),16&o[0]&&f!==(f=(3.6*e[4].finalVelocity).toFixed(1)+"")&&b(s,f)},d(e){e&&p(o)}}}function X(e){let o;return{c(){o=g("div"),o.textContent="Nenhum ponto marcado ainda. Ative o modo de marca√ß√£o e clique no mapa.\r\n                    ",h(o,"class","no-points svelte-1ownxr7")},m(e,t){x(e,o,t)},p:r,d(e){e&&p(o)}}}function ee(e){let o,t,n,r,i,l,a,s,c,u,f,w,$,F,M,y,k,A,T,I,P,C,E,D=ne(e[31].time)+"",V=e[31].lat.toFixed(4)+"",U=e[31].lon.toFixed(4)+"",L=re(e[31].time)+"",O=e[33]>0&&function(e){let o,t,n,r,i,l,a,s,c,u,f=(e[31].distanceFromPrev?e[31].distanceFromPrev.toFixed(1):"N/A")+"",w=(e[31].timeFromPrev?(e[31].timeFromPrev/1e3/60).toFixed(1):"N/A")+"";return{c(){o=g("div"),t=g("span"),n=m("Dist√¢ncia: "),r=m(f),i=m(" km"),l=v(),a=g("span"),s=m("Intervalo: "),c=m(w),u=m(" min"),h(o,"class","point-metrics svelte-1ownxr7")},m(e,p){x(e,o,p),d(o,t),d(t,n),d(t,r),d(t,i),d(o,l),d(o,a),d(a,s),d(a,c),d(a,u)},p(e,o){1&o[0]&&f!==(f=(e[31].distanceFromPrev?e[31].distanceFromPrev.toFixed(1):"N/A")+"")&&b(r,f),1&o[0]&&w!==(w=(e[31].timeFromPrev?(e[31].timeFromPrev/1e3/60).toFixed(1):"N/A")+"")&&b(c,w)},d(e){e&&p(o)}}}(e);return{c(){o=g("div"),t=g("div"),n=g("span"),n.textContent=`Ponto #${e[33]+1}`,r=v(),i=g("span"),l=m(D),a=v(),s=g("div"),c=g("span"),u=m("Lat: "),f=m(V),w=m("¬∞"),$=v(),F=g("span"),M=m("Lon: "),y=m(U),k=m("¬∞"),A=v(),T=g("div"),I=g("small"),P=m(L),C=v(),O&&O.c(),E=v(),h(n,"class","point-number svelte-1ownxr7"),h(i,"class","point-time svelte-1ownxr7"),h(t,"class","point-header svelte-1ownxr7"),h(s,"class","point-coords svelte-1ownxr7"),h(T,"class","point-time-info svelte-1ownxr7"),h(o,"class","point-item svelte-1ownxr7")},m(e,p){x(e,o,p),d(o,t),d(t,n),d(t,r),d(t,i),d(i,l),d(o,a),d(o,s),d(s,c),d(c,u),d(c,f),d(c,w),d(s,$),d(s,F),d(F,M),d(F,y),d(F,k),d(o,A),d(o,T),d(T,I),d(I,P),d(o,C),O&&O.m(o,null),d(o,E)},p(e,o){1&o[0]&&D!==(D=ne(e[31].time)+"")&&b(l,D),1&o[0]&&V!==(V=e[31].lat.toFixed(4)+"")&&b(f,V),1&o[0]&&U!==(U=e[31].lon.toFixed(4)+"")&&b(y,U),1&o[0]&&L!==(L=re(e[31].time)+"")&&b(P,L),e[33]>0&&O.p(e,o)},d(e){e&&p(o),O&&O.d()}}}function oe(e){let o,t,n,i,l,s,c,u,F,M,y,k,A,T,I,P,C,E,D,V,U,L,O,R,S,j,_,z,H,q,B,W,Z,K,Q,oe,te,ne,re,ie,le,ae,se,ce,de,ue,xe,pe,ge,me,ve,fe,he,we,be,$e,Fe,Me,ye,ke,Ae,Te,Ie,Pe,Ce,Ee,De,Ve,Ue,Le,Oe,Re,Ne,Se,je,_e,ze,He,qe,Je,Ge,Be,We,Ze,Ye,Ke,Qe,Xe,eo,oo,to,no,ro,io,lo,ao,so,co,uo,xo,po,go,mo,vo,fo,ho=e[1]?"Parar Marca√ß√£o":"Iniciar Marca√ß√£o",wo=e[0].length+"",bo=e[1]?"ATIVO":"INATIVO",$o=(e[3]/60).toFixed(1)+"",Fo=e[2]&&G(e),Mo=e[4]&&Y(e),yo=N(e[0]),ko=[];for(let o=0;o<yo.length;o+=1)ko[o]=ee(J(e,yo,o));let Ao=null;return yo.length||(Ao=X()),{c(){o=g("div"),o.textContent="Convective Tracker",t=v(),n=g("section"),i=g("div"),i.innerHTML='<div class="logo-title svelte-1ownxr7">Convective Tracker</div>',l=v(),s=g("div"),s.textContent="Convective Tracker",c=v(),u=g("div"),F=g("div"),M=g("h3"),M.textContent="Controle de Tempo",y=v(),k=g("div"),A=g("div"),T=g("div"),I=g("div"),P=g("label"),P.textContent="Hora:",C=v(),E=g("input"),D=v(),V=g("div"),U=g("label"),U.textContent="Minutos:",L=v(),O=g("input"),R=v(),S=g("button"),S.textContent="Agora",j=v(),_=g("div"),z=g("small"),z.textContent=`Pr√≥ximo ponto: ${e[10]()}`,H=v(),q=g("div"),B=g("h3"),B.textContent="Marcador de Pontos",W=v(),Z=g("div"),K=g("button"),Q=m(ho),oe=v(),te=g("button"),ne=m("Reiniciar Tracking"),ie=v(),le=g("button"),ae=m("Limpar Tudo"),ce=v(),de=g("div"),ue=g("p"),xe=m("Pontos marcados: "),pe=m(wo),ge=v(),me=g("p"),ve=m("Modo: "),fe=g("span"),he=m(bo),be=v(),Fo&&Fo.c(),$e=v(),Fe=g("div"),Me=g("h3"),Me.textContent="Proje√ß√£o de Trajet√≥ria",ye=v(),ke=g("div"),Ae=g("div"),Te=g("label"),Te.textContent="Tempo de proje√ß√£o (minutos):",Ie=v(),Pe=g("div"),Ce=g("input"),Ee=v(),De=g("div"),De.innerHTML="<span>1</span><span>30</span><span>60</span><span>90</span><span>120</span>",Ve=v(),Ue=g("div"),Le=g("span"),Oe=m(e[3]),Re=m(" minutos"),Ne=v(),Se=g("span"),je=m("("),_e=m($o),ze=m(" horas)"),He=v(),qe=g("div"),Je=g("label"),Ge=g("input"),Be=v(),We=g("span"),We.textContent="Usar movimento uniforme (ignorar acelera√ß√£o)",Ze=v(),Ye=g("label"),Ke=g("input"),Qe=v(),Xe=g("span"),Xe.textContent="Manter linhas de proje√ß√£o",eo=v(),oo=g("div"),to=g("button"),no=m("Projetar Trajet√≥ria"),io=v(),lo=g("button"),lo.textContent="Limpar Proje√ß√£o",ao=v(),Mo&&Mo.c(),so=v(),co=g("div"),uo=g("h3"),uo.textContent="Hist√≥rico de Pontos",xo=v(),po=g("div");for(let e=0;e<ko.length;e+=1)ko[e].c();var r,a;Ao&&Ao.c(),go=v(),mo=g("div"),mo.textContent="Desenvolvido por Andrew Lemos",h(o,"class","plugin__mobile-header"),h(i,"class","plugin-logo-container svelte-1ownxr7"),h(s,"class","plugin__title plugin__title--chevron-back"),r="display",a="none",s.style.setProperty(r,a,""),h(M,"class","svelte-1ownxr7"),h(P,"for","manualHours"),h(P,"class","svelte-1ownxr7"),h(E,"type","number"),h(E,"id","manualHours"),h(E,"min","0"),h(E,"max","23"),h(E,"placeholder","HH"),h(E,"class","svelte-1ownxr7"),h(I,"class","input-group svelte-1ownxr7"),h(U,"for","manualMinutes"),h(U,"class","svelte-1ownxr7"),h(O,"type","number"),h(O,"id","manualMinutes"),h(O,"min","0"),h(O,"max","59"),h(O,"placeholder","MM"),h(O,"class","svelte-1ownxr7"),h(V,"class","input-group svelte-1ownxr7"),h(S,"class","btn btn-secondary svelte-1ownxr7"),h(T,"class","time-input-row svelte-1ownxr7"),h(_,"class","time-display-info svelte-1ownxr7"),h(A,"class","manual-time-input svelte-1ownxr7"),h(k,"class","time-control-section svelte-1ownxr7"),h(F,"class","control-section svelte-1ownxr7"),h(B,"class","svelte-1ownxr7"),h(K,"class","btn btn-primary svelte-1ownxr7"),h(te,"class","btn btn-warning svelte-1ownxr7"),te.disabled=re=0===e[0].length,h(le,"class","btn btn-secondary svelte-1ownxr7"),le.disabled=se=0===e[0].length,h(Z,"class","button-group svelte-1ownxr7"),h(fe,"class",we="status-indicator "+(e[1]?"active":"inactive")+" svelte-1ownxr7"),h(de,"class","info-display svelte-1ownxr7"),h(q,"class","control-section svelte-1ownxr7"),h(Me,"class","svelte-1ownxr7"),h(Te,"for","projectionTime"),h(Te,"class","svelte-1ownxr7"),h(Ce,"type","range"),h(Ce,"id","projectionTime"),h(Ce,"min","1"),h(Ce,"max","120"),h(Ce,"step","1"),h(Ce,"class","svelte-1ownxr7"),h(De,"class","slider-ticks svelte-1ownxr7"),h(Pe,"class","time-slider-container svelte-1ownxr7"),h(Se,"class","unit-note svelte-1ownxr7"),h(Ue,"class","time-display svelte-1ownxr7"),h(Ae,"class","time-input svelte-1ownxr7"),h(Ge,"type","checkbox"),h(Ge,"class","svelte-1ownxr7"),h(Je,"class","checkbox-label svelte-1ownxr7"),h(Ke,"type","checkbox"),h(Ke,"class","svelte-1ownxr7"),h(Ye,"class","checkbox-label svelte-1ownxr7"),h(qe,"class","projection-options svelte-1ownxr7"),h(to,"class","btn btn-primary svelte-1ownxr7"),to.disabled=ro=!e[2]||e[0].length<2,h(lo,"class","btn btn-secondary svelte-1ownxr7"),h(oo,"class","button-group svelte-1ownxr7"),h(ke,"class","projection-controls svelte-1ownxr7"),h(Fe,"class","control-section svelte-1ownxr7"),h(uo,"class","svelte-1ownxr7"),h(po,"class","points-list svelte-1ownxr7"),h(co,"class","control-section svelte-1ownxr7"),h(u,"class","tracker-controls svelte-1ownxr7"),h(mo,"class","plugin-footer svelte-1ownxr7"),h(n,"class","plugin__content svelte-1ownxr7")},m(r,a){x(r,o,a),x(r,t,a),x(r,n,a),d(n,i),d(n,l),d(n,s),d(n,c),d(n,u),d(u,F),d(F,M),d(F,y),d(F,k),d(k,A),d(A,T),d(T,I),d(I,P),d(I,C),d(I,E),$(E,e[7]),d(T,D),d(T,V),d(V,U),d(V,L),d(V,O),$(O,e[8]),d(T,R),d(T,S),d(A,j),d(A,_),d(_,z),d(u,H),d(u,q),d(q,B),d(q,W),d(q,Z),d(Z,K),d(K,Q),d(Z,oe),d(Z,te),d(te,ne),d(Z,ie),d(Z,le),d(le,ae),d(q,ce),d(q,de),d(de,ue),d(ue,xe),d(ue,pe),d(de,ge),d(de,me),d(me,ve),d(me,fe),d(fe,he),d(de,be),Fo&&Fo.m(de,null),d(u,$e),d(u,Fe),d(Fe,Me),d(Fe,ye),d(Fe,ke),d(ke,Ae),d(Ae,Te),d(Ae,Ie),d(Ae,Pe),d(Pe,Ce),$(Ce,e[3]),d(Pe,Ee),d(Pe,De),d(Ae,Ve),d(Ae,Ue),d(Ue,Le),d(Le,Oe),d(Le,Re),d(Ue,Ne),d(Ue,Se),d(Se,je),d(Se,_e),d(Se,ze),d(ke,He),d(ke,qe),d(qe,Je),d(Je,Ge),Ge.checked=e[5],d(Je,Be),d(Je,We),d(qe,Ze),d(qe,Ye),d(Ye,Ke),Ke.checked=e[6],d(Ye,Qe),d(Ye,Xe),d(ke,eo),d(ke,oo),d(oo,to),d(to,no),d(oo,io),d(oo,lo),d(Fe,ao),Mo&&Mo.m(Fe,null),d(u,so),d(u,co),d(co,uo),d(co,xo),d(co,po);for(let e=0;e<ko.length;e+=1)ko[e]&&ko[e].m(po,null);Ao&&Ao.m(po,null),d(n,go),d(n,mo),vo||(fo=[f(E,"input",e[16]),f(O,"input",e[17]),f(S,"click",e[9]),f(K,"click",e[11]),f(te,"click",e[12]),f(le,"click",e[15]),f(Ce,"change",e[18]),f(Ce,"input",e[18]),f(Ge,"change",e[19]),f(Ke,"change",e[20]),f(to,"click",e[13]),f(lo,"click",e[14])],vo=!0)},p(e,o){if(128&o[0]&&w(E.value)!==e[7]&&$(E,e[7]),256&o[0]&&w(O.value)!==e[8]&&$(O,e[8]),2&o[0]&&ho!==(ho=e[1]?"Parar Marca√ß√£o":"Iniciar Marca√ß√£o")&&b(Q,ho),1&o[0]&&re!==(re=0===e[0].length)&&(te.disabled=re),1&o[0]&&se!==(se=0===e[0].length)&&(le.disabled=se),1&o[0]&&wo!==(wo=e[0].length+"")&&b(pe,wo),2&o[0]&&bo!==(bo=e[1]?"ATIVO":"INATIVO")&&b(he,bo),2&o[0]&&we!==(we="status-indicator "+(e[1]?"active":"inactive")+" svelte-1ownxr7")&&h(fe,"class",we),e[2]?Fo?Fo.p(e,o):(Fo=G(e),Fo.c(),Fo.m(de,null)):Fo&&(Fo.d(1),Fo=null),8&o[0]&&$(Ce,e[3]),8&o[0]&&b(Oe,e[3]),8&o[0]&&$o!==($o=(e[3]/60).toFixed(1)+"")&&b(_e,$o),32&o[0]&&(Ge.checked=e[5]),64&o[0]&&(Ke.checked=e[6]),5&o[0]&&ro!==(ro=!e[2]||e[0].length<2)&&(to.disabled=ro),e[4]?Mo?Mo.p(e,o):(Mo=Y(e),Mo.c(),Mo.m(Fe,null)):Mo&&(Mo.d(1),Mo=null),1&o[0]){let t;for(yo=N(e[0]),t=0;t<yo.length;t+=1){const n=J(e,yo,t);ko[t]?ko[t].p(n,o):(ko[t]=ee(n),ko[t].c(),ko[t].m(po,null))}for(;t<ko.length;t+=1)ko[t].d(1);ko.length=yo.length,!yo.length&&Ao?Ao.p(e,o):yo.length?Ao&&(Ao.d(1),Ao=null):(Ao=X(),Ao.c(),Ao.m(po,null))}},i:r,o:r,d(e){e&&(p(o),p(t),p(n)),Fo&&Fo.d(),Mo&&Mo.d(),function(e,o){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(o)}(ko,e),Ao&&Ao.d(),vo=!1,a(fo)}}}const te=.001;function ne(e){try{const o=new Date(e);return isNaN(o.getTime())?"--:--:--":o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch(e){return"--:--:--"}}function re(e){try{const o=new Date(e);return isNaN(o.getTime())?"Data/hora inv√°lida":o.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch(e){return"Data/hora inv√°lida"}}function ie(e,o){const t=e.lat*Math.PI/180,n=o.lat*Math.PI/180,r=(o.lat-e.lat)*Math.PI/180,i=(o.lon-e.lon)*Math.PI/180,l=Math.sin(r/2)*Math.sin(r/2)+Math.cos(t)*Math.cos(n)*Math.sin(i/2)*Math.sin(i/2);return 6371e3*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}function le(e,o){const t=ie(e,o),n=(o.time-e.time)/1e3;return n<=0?0:t/n}function ae(e,o){const t=e.lat*Math.PI/180,n=o.lat*Math.PI/180,r=e.lon*Math.PI/180,i=o.lon*Math.PI/180,l=Math.sin(i-r)*Math.cos(n),a=Math.cos(t)*Math.sin(n)-Math.sin(t)*Math.cos(n)*Math.cos(i-r);return(180*Math.atan2(l,a)/Math.PI+360)%360}function se(e,r,i){const{name:l}=H;let a=[],s=!1,c=[],d=[],u=null,x=null,p=60,g=null,m=!1,v=!0,f=14,h=0;function b(){const e=new Date;i(7,f=e.getHours()),i(8,h=e.getMinutes())}function $(){try{let e=f,o=h;(isNaN(e)||e<0||e>23)&&(e=14),(isNaN(o)||o<0||o>59)&&(o=0);const t=new Date;return new Date(t.getFullYear(),t.getMonth(),t.getDate(),e,o,0,0).getTime()}catch(e){return console.error("‚ùå Erro ao criar timestamp:",e),Date.now()}}function F(e,o){if(s)try{const r=$(),l=ne(r),s={lat:e,lon:o,time:r,timestamp:l};if(a.length>0){const e=a[a.length-1];s.distanceFromPrev=ie(e,s)/1e3,s.timeFromPrev=r-e.time,s.timeFromPrev>0&&(s.velocity=le(e,s),s.direction=ae(e,s),console.log(`üìä Œî Tempo: ${(s.timeFromPrev/1e3/60).toFixed(1)} min`),console.log(`üìä Velocidade: ${s.velocity?.toFixed(1)} m/s (${(3.6*s.velocity).toFixed(1)} km/h)`),console.log(`üìä Dire√ß√£o: ${s.direction?.toFixed(1)}¬∞`))}i(0,a=[...a,s]),console.log(`‚úÖ Ponto ${a.length} marcado:`,{lat:e.toFixed(4),lon:o.toFixed(4),time:re(r)}),function(e,o,r,i){try{const l=L.marker([e,o],{icon:n.pulsatingIcon,title:`Ponto ${r} - ${i}`}).addTo(t);return l.bindTooltip(`Ponto ${r}<br>${i}`,{permanent:!1,direction:"top"}),l.bindPopup(`\n                <div style="text-align: center; padding: 5px;">\n                    <strong>Ponto ${r}</strong><br>\n                    ${i}<br>\n                    Lat: ${e.toFixed(4)}¬∞<br>\n                    Lon: ${o.toFixed(4)}¬∞\n                </div>\n            `),c.push(l),console.log(`üìç Marcador ${r} adicionado`),l}catch(e){return console.error("‚ùå Erro ao adicionar marcador:",e),null}}(e,o,a.length,l),a.length>=2&&(!function(){if(a.length<2)return;d.forEach(e=>{t&&e&&t.removeLayer(e)}),d=[];const e=a.map(e=>[e.lat,e.lon]),o=L.polyline(e,{color:"#ff0000",weight:3,opacity:.7,dashArray:null}).addTo(t);d.push(o)}(),M())}catch(e){console.error("‚ùå Erro ao marcar ponto:",e),alert("Erro ao marcar ponto. Verifique os dados.")}else console.log('‚ö†Ô∏è Modo tracking inativo. Ative primeiro clicando em "Iniciar Marca√ß√£o"')}function M(){if(a.length<2)return void console.log("Precisa de pelo menos 2 pontos para calcular trajet√≥ria");const e=[],o=[];let t=0,n=0,r=0;for(let i=0;i<a.length-1;i++){const l=le(a[i],a[i+1]);e.push(l),o.push(ae(a[i],a[i+1])),t+=ie(a[i],a[i+1]);const s=(a[i+1].time-a[i].time)/1e3;n+=s,i===a.length-2&&(r=s)}if(n<=0)return console.error("‚ùå Tempo total inv√°lido para c√°lculo."),void i(2,x=null);const l=e.reduce((e,o)=>e+o,0)/e.length,s=e.length>0?e[e.length-1]:l,{acceleration:c,hasSignificant:d}=function(e){if(e.length<3)return{acceleration:0,hasSignificant:!1};const o=e.slice(-3),t=le(o[0],o[1]),n=le(o[1],o[2]),r=(o[1].time-o[0].time)/1e3,i=(o[2].time-o[1].time)/1e3;if(r<=0||i<=0)return{acceleration:0,hasSignificant:!1};const l=i,a=(n-t)/l,s=100*Math.abs((n-t)/t),c=s>10,d=Math.abs(a)>te,u=d||c;return console.log("üìä ACELERA√á√ÉO DETALHADA:"),console.log(`   v1 = ${t.toFixed(2)} m/s (${(3.6*t).toFixed(1)} km/h)`),console.log(`   v2 = ${n.toFixed(2)} m/s (${(3.6*n).toFixed(1)} km/h)`),console.log(`   Œîv = ${(n-t).toFixed(2)} m/s`),console.log(`   Œît = ${l.toFixed(0)} s`),console.log(`   a = (v2 - v1) / Œît = ${(n-t).toFixed(2)} / ${l.toFixed(0)}`),console.log(`   a = ${a.toFixed(4)} m/s¬≤`),console.log(`   Mudan√ßa percentual: ${s.toFixed(1)}%`),console.log("   Limite absoluto: 0.001 m/s¬≤"),console.log(`   Significativo por absoluto? ${d}`),console.log(`   Significativo por percentual? ${c}`),console.log("   ACELERA√á√ÉO SIGNIFICATIVA? "+(u?"SIM ‚úÖ":"N√ÉO ‚ùå")),{acceleration:a,hasSignificant:u}}(a),u=function(e){if(0===e.length)return 0;let o=0,t=0;return e.forEach(e=>{const n=e*Math.PI/180;o+=Math.cos(n),t+=Math.sin(n)}),(180*Math.atan2(t,o)/Math.PI+360)%360}(o),p=o.length>0?o[o.length-1]:u;let g=p;o.length>=2&&(g=function(e,o){let t=e-o;for(;t>180;)t-=360;for(;t<-180;)t+=360;let n=e+1.5*t;return n=(n+360)%360,console.log("üìê ESTIMATIVA DE DIRE√á√ÉO:"),console.log(`   Anterior: ${o.toFixed(0)}¬∞`),console.log(`   Atual: ${e.toFixed(0)}¬∞`),console.log(`   Diferen√ßa: ${t.toFixed(0)}¬∞`),console.log("   Fator de extrapola√ß√£o: 1.5"),console.log(`   Pr√≥ximo estimado: ${n.toFixed(0)}¬∞`),n}(o[o.length-1],o[o.length-2]));let v=!1;m?(v=!0,console.log("‚öôÔ∏è Usando MRU (usu√°rio escolheu movimento uniforme)")):d?(v=!1,console.log("‚öôÔ∏è Usando MRUV (acelera√ß√£o significativa detectada)")):(v=!0,console.log("‚öôÔ∏è Usando MRU (acelera√ß√£o insignificante)"));let f=s;d&&!v&&r>0&&(f=s+c*r,console.log("üìä VELOCIDADE INSTANT√ÇNEA COM ACELERA√á√ÉO:"),console.log(`   v0 = ${s.toFixed(2)} m/s`),console.log(`   a = ${c.toFixed(4)} m/s¬≤`),console.log(`   t = ${r.toFixed(0)} s`),console.log(`   v = ${s.toFixed(2)} + ${c.toFixed(4)} * ${r.toFixed(0)}`),console.log(`   v = ${f.toFixed(2)} m/s`)),i(2,x={currentVelocity:f,avgVelocity:l,acceleration:c,currentDirection:g,avgDirection:u,hasSignificantAcceleration:d,useUniformMotion:v,points:[...a],totalDistance:t/1e3,totalTime:n,lastSegmentTime:r,directionAngle:g}),console.log("=".repeat(60)),console.log("üìä RESUMO DA TRAJET√ìRIA CALCULADA:"),console.log("=".repeat(60)),console.log(`   Velocidade atual: ${f.toFixed(1)} m/s (${(3.6*f).toFixed(1)} km/h)`),console.log(`   Velocidade m√©dia: ${l.toFixed(1)} m/s`),console.log(`   Dire√ß√£o atual: ${p.toFixed(0)}¬∞`),console.log(`   Dire√ß√£o estimada: ${g.toFixed(0)}¬∞`),console.log(`   Acelera√ß√£o: ${c.toFixed(4)} m/s¬≤`),console.log("   Status acelera√ß√£o: "+(d?"SIGNIFICANTE ‚úÖ":"insignificante")),console.log("   M√©todo selecionado: "+(v?"MRU (Movimento Uniforme)":"MRUV (Movimento Uniformemente Variado)")),console.log(`   Dist√¢ncia total: ${(t/1e3).toFixed(1)} km`),console.log(`   Tempo total: ${(n/60).toFixed(1)} min`),console.log("=".repeat(60))}function k(){u&&t&&t.hasLayer(u)&&(t.removeLayer(u),u=null);const e=T();if(e){const o=[];c.forEach((t,n)=>{"destination-marker"===t.options.icon?.options?.className&&e.hasLayer(t)&&(e.removeLayer(t),o.push(n))}),o.reverse().forEach(e=>{c.splice(e,1)})}i(4,g=null),console.log("üßπ Proje√ß√£o limpa")}function A(){console.log("üßπ INICIANDO LIMPEZA TOTAL..."),k(),i(0,a=[]),i(2,x=null),i(4,g=null);const e=T();e&&(c.forEach(o=>{e.hasLayer(o)&&e.removeLayer(o)}),d.forEach(o=>{e.hasLayer(o)&&e.removeLayer(o)})),c=[],d=[],i(1,s=!1),console.log("‚úÖ TODOS OS DADOS FORAM LIMPOS COMPLETAMENTE")}function T(){return t}var I;return I=()=>{if(console.log("üöÄ Plugin Convective Tracker iniciando..."),console.log("üîß Nome do plugin:",l),console.log("‚öôÔ∏è CONFIGURA√á√ÉO DO SISTEMA:"),console.log("   - Sensibilidade da acelera√ß√£o:",te,"m/s¬≤"),console.log("   - Detecta acelera√ß√£o por valor absoluto OU mudan√ßa percentual > 10%"),console.log("   - MRU padr√£o: DESATIVADO (teste MRUV primeiro)"),console.log('   - Bot√£o "Limpar Proje√ß√£o": SEMPRE ATIVO'),b(),o&&"function"==typeof o.on)try{console.log("üéØ Configurando singleclick listener..."),o.on(l,e=>{console.log("üó∫Ô∏è Clique recebido:",e),F(e.lat,e.lon)}),console.log("‚úÖ Listener configurado!")}catch(e){console.error("‚ùå Erro ao configurar singleclick:",e)}console.log("\nüìù INSTRU√á√ïES PARA TESTE:"),console.log('   1. Desmarque "Usar movimento uniforme" para testar MRUV'),console.log("   2. Marque 3+ pontos com intervalos regulares"),console.log("   3. Veja no console se acelera√ß√£o √© detectada como SIGNIFICANTE"),console.log("   4. Projete trajet√≥ria e compare MRU vs MRUV"),console.log('   5. Use "Limpar Proje√ß√£o" a qualquer momento'),console.log('   6. Use "Limpar Tudo" para reiniciar completamente'),console.log("\nüéØ Plugin Convective Tracker carregado e pronto!")},y().$$.on_mount.push(I),function(e){y().$$.on_destroy.push(e)}(()=>{if(console.log("üîö Plugin sendo destru√≠do..."),o&&"function"==typeof o.off)try{o.off(l),console.log("‚úÖ Listener singleclick removido")}catch(e){console.error("‚ùå Erro ao remover listener:",e)}A()}),[a,s,x,p,g,m,v,f,h,b,function(){try{return re($())}catch(e){return"Hor√°rio inv√°lido"}},function(){i(1,s=!s),console.log("Modo tracking:",s?"ATIVO":"INATIVO"),s&&console.log("‚úÖ Pronto para marcar pontos! Clique no mapa.")},function(){i(1,s=!1),a.length>=2&&M(),g&&k()},function(){if(!x||a.length<2)console.log("N√£o h√° c√°lculo dispon√≠vel para projetar");else try{const e=a[a.length-1],o=60*p;let n,r,l=!1;console.log("=".repeat(60)),console.log("üöÄ INICIANDO PROJE√á√ÉO DE TRAJET√ìRIA"),console.log("=".repeat(60)),console.log(`   Tempo de proje√ß√£o: ${o} s (${p} min)`),console.log(`   Velocidade atual: ${x.currentVelocity.toFixed(2)} m/s (${(3.6*x.currentVelocity).toFixed(1)} km/h)`),console.log(`   Acelera√ß√£o: ${x.acceleration.toFixed(4)} m/s¬≤`),console.log(`   Dire√ß√£o: ${x.currentDirection.toFixed(0)}¬∞`),console.log("   Acelera√ß√£o significativa? "+(x.hasSignificantAcceleration?"SIM ‚úÖ":"N√ÉO ‚ùå")),console.log("   Config. usu√°rio (usar MRU): "+(m?"SIM":"N√ÉO")),console.log("   M√©todo calculado: "+(x.useUniformMotion?"MRU":"MRUV"));let s=!1;if(x.hasSignificantAcceleration&&!m&&(s=!0,console.log("‚ö° FOR√áANDO USO DE MRUV (acelera√ß√£o significativa detectada)")),x.useUniformMotion&&!s)n=x.currentVelocity*o,r=x.currentVelocity,l=!1,console.log("\nüìè PROJE√á√ÉO MRU (Movimento Uniforme):"),console.log("   F√≥rmula: s = v * t"),console.log(`   v = ${x.currentVelocity.toFixed(2)} m/s`),console.log(`   t = ${o} s`),console.log(`   s = ${x.currentVelocity.toFixed(2)} * ${o}`),console.log(`   s = ${n.toFixed(0)} m`);else{const e=x.currentVelocity,t=x.acceleration,i=e*o,a=.5*t*o*o;n=i+a,r=e+t*o,l=!0,console.log("\nüìè PROJE√á√ÉO MRUV (Movimento Uniformemente Variado):"),console.log("   F√≥rmula: s = v0*t + 0.5*a*t¬≤"),console.log(`   v0 = ${e.toFixed(2)} m/s`),console.log(`   a = ${t.toFixed(4)} m/s¬≤`),console.log(`   t = ${o} s`),console.log(`   v0*t = ${e.toFixed(2)} * ${o} = ${i.toFixed(0)} m`),console.log(`   0.5*a*t¬≤ = 0.5 * ${t.toFixed(4)} * ${o}¬≤ = ${a.toFixed(0)} m`),console.log(`   s = ${i.toFixed(0)} + ${a.toFixed(0)} = ${n.toFixed(0)} m`),console.log("\nüìè Velocidade final (v = v0 + a*t):"),console.log(`   v = ${e.toFixed(2)} + ${t.toFixed(4)} * ${o}`),console.log(`   v = ${e.toFixed(2)} + ${(t*o).toFixed(2)}`),console.log(`   v = ${r.toFixed(2)} m/s`)}const d=1e7,v=500;n<0&&(console.warn(`‚ö†Ô∏è Dist√¢ncia negativa detectada: ${n.toFixed(0)} m, ajustando para 0`),n=0,r=0),n>d&&(console.warn(`‚ö†Ô∏è Dist√¢ncia muito alta: ${n.toFixed(0)} m, limitando para ${d} m`),n=d),r<0&&(r=0),r>v&&(console.warn(`‚ö†Ô∏è Velocidade final muito alta: ${r.toFixed(1)} m/s, limitando para ${v} m/s`),r=v);const f=n/1e3;console.log(`\nüìè DIST√ÇNCIA FINAL PROJETADA: ${f.toFixed(1)} km`);const h=x.currentDirection,w=function(e,o,t,n){const r=n/6371,i=t*Math.PI/180,l=e*Math.PI/180,a=o*Math.PI/180,s=Math.asin(Math.sin(l)*Math.cos(r)+Math.cos(l)*Math.sin(r)*Math.cos(i)),c=a+Math.atan2(Math.sin(i)*Math.sin(r)*Math.cos(l),Math.cos(r)-Math.sin(l)*Math.sin(s));return{lat:180*s/Math.PI,lon:(180*c/Math.PI+540)%360-180}}(e.lat,e.lon,h,f);(w.lat<-90||w.lat>90||w.lon<-180||w.lon>180)&&(console.warn(`‚ö†Ô∏è Coordenadas fora dos limites: Lat=${w.lat.toFixed(4)}, Lon=${w.lon.toFixed(4)}`),w.lat<-90&&(w.lat=-90),w.lat>90&&(w.lat=90),w.lon<-180&&(w.lon=180),w.lon>180&&(w.lon=-180));const b=new Date(e.time+60*p*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});i(4,g={lat:w.lat,lon:w.lon,distance:f,estimatedArrival:b,useAcceleration:l,finalVelocity:r}),k();const $=L.marker([w.lat,w.lon],{icon:L.divIcon({html:l?'<div style="background: #ff00ff; color: #fff; width: 28px; height: 28px; border-radius: 50%; border: 3px solid #fff; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 12px; box-shadow: 0 0 10px #ff00ff;">üéØ</div>':'<div style="background: #00ff00; color: #000; width: 28px; height: 28px; border-radius: 50%; border: 3px solid #000; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 12px; box-shadow: 0 0 10px #00ff00;">üéØ</div>',iconSize:[28,28],className:"destination-marker"}),title:`Destino em ${p} minutos`}).addTo(t);$.bindTooltip(`Destino em ${p} min<br>Dist√¢ncia: ${f.toFixed(1)} km<br>Velocidade final: ${r.toFixed(1)} m/s (${(3.6*r).toFixed(1)} km/h)<br>Chegada: ${b}<br>M√©todo: `+(l?"MRUV (com acelera√ß√£o)":"MRU (sem acelera√ß√£o)"),{permanent:!1,direction:"top"}),c.push($),u=L.polyline([[e.lat,e.lon],[w.lat,w.lon]],{color:l?"#ff00ff":"#00ff00",weight:3,opacity:.8,dashArray:l?"10, 10":null,lineCap:"round"}).addTo(t),console.log("\nüéØ RESULTADO DA PROJE√á√ÉO:"),console.log("=".repeat(60)),console.log(`   Posi√ß√£o: ${w.lat.toFixed(4)}¬∞, ${w.lon.toFixed(4)}¬∞`),console.log(`   Dist√¢ncia: ${f.toFixed(1)} km`),console.log(`   Velocidade final: ${r.toFixed(1)} m/s (${(3.6*r).toFixed(1)} km/h)`),console.log(`   Chegada: ${b}`),console.log("   M√©todo: "+(l?"MRUV (Movimento Uniformemente Variado)":"MRU (Movimento Uniforme)")),console.log("=".repeat(60))}catch(e){console.error("‚ùå ERRO AO PROJETAR TRAJET√ìRIA:",e),alert("Erro ao projetar trajet√≥ria: "+e.message)}},k,A,function(){f=w(this.value),i(7,f)},function(){h=w(this.value),i(8,h)},function(){p=w(this.value),i(3,p)},function(){m=this.checked,i(5,m)},function(){v=this.checked,i(6,v)}]}class ce extends z{constructor(e){super(),_(this,e,se,oe,c,{},q,[-1,-1])}}export{e as __pluginConfig,ce as default};
